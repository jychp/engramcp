# -----------------------------------------------------------------------------
# Test opt-ins (loaded by pytest via tests/conftest.py).
# -----------------------------------------------------------------------------

# Set to 1 to enable real-LLM end-to-end eval tests.
ENGRAMCP_RUN_REAL_LLM_EVALS=0

# Required when real-LLM evals are enabled.
OPENAI_API_KEY=

# Optional: override model for real-LLM eval tests.
ENGRAMCP_EVAL_OPENAI_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# App config variables (template)
# -----------------------------------------------------------------------------
# Note: the runtime config is currently code-based (`engramcp.config` dataclasses).
# These env vars are provided as a canonical template/reference.

# LLMConfig
ENGRAMCP_LLM_PROVIDER=openai
ENGRAMCP_LLM_MODEL=gpt-4
ENGRAMCP_LLM_API_KEY=
ENGRAMCP_LLM_BASE_URL=https://api.openai.com/v1
ENGRAMCP_LLM_TEMPERATURE=0.2
ENGRAMCP_LLM_MAX_TOKENS=4096
ENGRAMCP_LLM_TIMEOUT_SECONDS=30.0

# ConsolidationConfig
ENGRAMCP_CONSOLIDATION_FRAGMENT_THRESHOLD=10
ENGRAMCP_CONSOLIDATION_EXTRACTION_BATCH_SIZE=5
ENGRAMCP_CONSOLIDATION_PATTERN_MIN_OCCURRENCES=3
ENGRAMCP_CONSOLIDATION_EXTRACTION_MAX_RETRIES=0
ENGRAMCP_CONSOLIDATION_EXTRACTION_RETRY_BACKOFF_SECONDS=0.0
ENGRAMCP_CONSOLIDATION_RETRY_ON_INVALID_JSON=true
ENGRAMCP_CONSOLIDATION_RETRY_ON_SCHEMA_VALIDATION_ERROR=true

# EntityResolutionConfig
ENGRAMCP_ENTITY_RESOLUTION_AUTO_MERGE_THRESHOLD=0.9
ENGRAMCP_ENTITY_RESOLUTION_FLAG_FOR_REVIEW_THRESHOLD=0.7
ENGRAMCP_ENTITY_RESOLUTION_CREATE_LINK_THRESHOLD=0.5
ENGRAMCP_ENTITY_RESOLUTION_LLM_ASSISTED_ENABLED=true
ENGRAMCP_ENTITY_RESOLUTION_NAME_SIMILARITY_WEIGHT=0.5
ENGRAMCP_ENTITY_RESOLUTION_CONTEXT_OVERLAP_WEIGHT=0.3
ENGRAMCP_ENTITY_RESOLUTION_PROPERTY_COMPATIBILITY_WEIGHT=0.2
ENGRAMCP_ENTITY_RESOLUTION_TOKEN_JACCARD_THRESHOLD=0.6
ENGRAMCP_ENTITY_RESOLUTION_EDIT_DISTANCE_MAX=0.3

# AuditConfig
ENGRAMCP_AUDIT_FILE_PATH=engramcp_audit.jsonl
ENGRAMCP_AUDIT_ENABLED=true
